```markdown
YT-Downloader (TrueNAS SCALE) â€” README

What this repo contains
- A minimal Flask + Socket.IO app that uses yt-dlp to search and download YouTube videos.
- Token-based authentication (ADMIN_TOKEN).
- Series discovery, continuous monitoring (always_series), duration filter, deduplication.
- Helm chart for deployment on TrueNAS SCALE (or Kubernetes).
- GitHub Actions CI to build and push a Docker image (requires registry secrets).

Suggested TrueNAS dataset mapping (matches your environment)
- Config / DB (small files):
  FastPool/AppConfigs/YouTubeDownloaderConfig -> mount to container /config
- Downloaded videos (large storage):
  Tank/Media/Video/YouTube -> mount to container /data

Suggested in-container folder structure (/data):
- /data/Doraemon_Episodes/...(episode files)
- /data/Movie_Title/...(movie files)
Each request can create a folder name; default suggested folder name is the query with spaces replaced by underscores.

Deploy (overview)
1. Build & push image:
   - Add GitHub Secrets to your repo:
     - DOCKER_REGISTRY (e.g., docker.io or ghcr.io)
     - DOCKER_USERNAME
     - DOCKER_PASSWORD
     - IMAGE_NAME (e.g., myuser/yt-downloader)
     - DOCKER_REGISTRY_URL_PREFIX (e.g., docker.io/ or ghcr.io/yourorg/)
   - Trigger the workflow in Actions -> CI Build & Push or push to main.

2. Install in TrueNAS SCALE:
   - Use "Custom App" -> Import Helm chart (use helm/ chart files) OR use the Kubernetes YAML generated by Helm.
   - Set volume mounts:
     - /config -> FastPool/AppConfigs/YouTubeDownloaderConfig
     - /data -> Tank/Media/Video/YouTube
   - Set env ADMIN_TOKEN to a secure token (required for access).
   - Expose the Service (ClusterIP) and optionally configure Ingress/NodePort based on your TrueNAS network.

API / UI
- UI: root page hosts a minimal login and form to submit requests.
- API endpoints:
  - POST /api/submit  (body: query, language, is_series, always_series, min_length, max_length, folder_name)
  - GET /api/jobs
  - POST /api/cancel/<id>
  - GET /api/search?q=...&lang=...
- Authentication: set ADMIN_TOKEN in container; the client must include Authorization: Bearer <token> or provide it via the small login in the UI.

CI notes
- The included GitHub Actions workflow builds and pushes images. You must add the required secrets in your repo settings:
  - DOCKER_REGISTRY
  - DOCKER_USERNAME
  - DOCKER_PASSWORD
  - IMAGE_NAME
  - DOCKER_REGISTRY_URL_PREFIX

Security & Limitations
- Token-based auth is simple and effective for small, internal deployments. For public access, add HTTPS + stronger auth (OIDC, LDAP).
- yt-dlp can consume bandwidth and CPU; set resource limits when deploying on SCALE / Kubernetes.
- This is a minimal production-ready starting point; consider improving error handling, logging, rate-limiting, and monitoring for a production rollout.

If you want me to:
- Build and push the container image for you: provide registry type and credentials (or add them as GitHub Secrets and tell me to trigger the workflow).
- Produce a ready-to-install TrueNAS SCALE catalog item (icon, metadata): I can package the Helm chart into a SCALE catalog entry.
- Add single sign-on or password-based accounts (instead of a single ADMIN_TOKEN): tell me which auth you prefer.

Next step choices (pick one or more):
- I will prepare the first image build and show the exact GitHub Secrets needed (I can also provide a script to set them).
- I will package the Helm chart into a TrueNAS SCALE catalog item (.tgz) for easy installation.
- I will push an image to a registry if you provide credentials (recommend: push to your Docker Hub or GHCR).

Which of these would you like me to perform immediately? If you want me to push the image, please tell me which registry (Docker Hub or GHCR) and provide the necessary credentials or add them to GitHub Secrets and I will trigger the CI build.
```